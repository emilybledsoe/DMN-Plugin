{"version":3,"sources":["../../src/components/ValidatedInput.js"],"names":["Component","Input","ValidatedInput","props","context","validate","value","validationWarning","undefined","state","onInput","bind","onKeyDown","onKeyUp","setState","isValid","event","target","placeholder","type","className","parentClasses","join","inputClasses","push"],"mappings":"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","sourcesContent":["import { Component } from 'inferno';\r\n\r\n// eslint-disable-next-line\r\nimport Input from './Input';\r\n\r\n/**\r\n * Input with optional validation.\r\n */\r\nexport default class ValidatedInput extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    const { validate, value } = props;\r\n\r\n    const validationWarning = validate ? validate(value || '') : undefined;\r\n\r\n    this.state = {\r\n      validationWarning,\r\n      value\r\n    };\r\n\r\n    this.onInput = this.onInput.bind(this);\r\n    this.onKeyDown = this.onKeyDown.bind(this);\r\n    this.onKeyUp = this.onKeyUp.bind(this);\r\n  }\r\n\r\n  componentWillReceiveProps(props) {\r\n    const { validate, value } = props;\r\n\r\n    const validationWarning = validate ? validate(value || '') : undefined;\r\n\r\n    this.setState({\r\n      validationWarning,\r\n      value\r\n    });\r\n  }\r\n\r\n  onInput(value) {\r\n    const { onInput, validate } = this.props;\r\n\r\n    const validationWarning = validate ? validate(value) : undefined;\r\n\r\n    this.setState({\r\n      validationWarning,\r\n      value\r\n    });\r\n\r\n    if (typeof onInput !== 'function') {\r\n      return;\r\n    }\r\n\r\n    onInput && onInput({\r\n      isValid: !validationWarning,\r\n      value\r\n    });\r\n  }\r\n\r\n  onKeyDown(event) {\r\n    const { target } = event,\r\n          { value } = target;\r\n\r\n    const { onKeyDown, validate } = this.props;\r\n\r\n    const validationWarning = validate ? validate(value) : undefined;\r\n\r\n    if (typeof onKeyDown !== 'function') {\r\n      return;\r\n    }\r\n\r\n    onKeyDown({\r\n      isValid: !validationWarning,\r\n      value,\r\n      event\r\n    });\r\n  }\r\n\r\n  onKeyUp(event) {\r\n    const { target } = event,\r\n          { value } = target;\r\n\r\n    const { onKeyUp, validate } = this.props;\r\n\r\n    const validationWarning = validate ? validate(value) : undefined;\r\n\r\n    if (typeof onKeyUp !== 'function') {\r\n      return;\r\n    }\r\n\r\n    onKeyUp({\r\n      isValid: !validationWarning,\r\n      value,\r\n      event\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { placeholder, type, className } = this.props;\r\n\r\n    const { validationWarning, value } = this.state;\r\n\r\n    const parentClasses = [\r\n      'dms-validated-input',\r\n      className\r\n    ].join(' ');\r\n\r\n    const inputClasses = [ ];\r\n\r\n    if (validationWarning) {\r\n      inputClasses.push('invalid');\r\n    }\r\n\r\n    return (\r\n      <div className={ parentClasses }>\r\n\r\n        <Input\r\n          className={ inputClasses }\r\n          onInput={ this.onInput }\r\n          onKeyDown={ this.onKeyDown }\r\n          onKeyUp={ this.onKeyUp }\r\n          placeholder={ placeholder || '' }\r\n          type={ type }\r\n          value={ value || '' } />\r\n\r\n        {\r\n          validationWarning &&\r\n            <p class=\"dms-hint dms-validation-warning\">\r\n              { validationWarning }\r\n            </p>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n}"],"file":"ValidatedInput.js"}