!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).DmnModdle=t()}(this,(function(){"use strict";var e=Object.prototype.toString,t=Object.prototype.hasOwnProperty;function n(t){var n=e.call(t);return"[object Function]"===n||"[object AsyncFunction]"===n||"[object GeneratorFunction]"===n||"[object AsyncGeneratorFunction]"===n||"[object Proxy]"===n}function r(t){return"[object String]"===e.call(t)}function i(e,n){return t.call(e,n)}function a(e,t){var r;return t=function(e){return n(e)?e:function(t){return t===e}}(t),o(e,(function(e,n){if(t(e,n))return r=e,!1})),r}function s(e,t){var n=[];return o(e,(function(e,r){t(e,r)&&n.push(e)})),n}function o(t,n){var r;if(void 0!==t){var a=function(t){return"[object Array]"===e.call(t)}(t)?l:p;for(var s in t)if(i(t,s)&&!1===n(r=t[s],a(s)))return r}}function p(e){return e}function l(e){return Number(e)}function m(e,t){return e.bind(t)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return u.apply(void 0,[e].concat(n))}function y(){}function f(e,t){this.model=e,this.properties=t}y.prototype.get=function(e){return this.$model.properties.get(this,e)},y.prototype.set=function(e,t){this.$model.properties.set(this,e,t)},f.prototype.createType=function(e){var t=this.model,n=this.properties,r=Object.create(y.prototype);o(e.properties,(function(e){e.isMany||void 0===e.default||(r[e.name]=e.default)})),n.defineModel(r,t),n.defineDescriptor(r,e);var i=e.ns.name;function a(e){n.define(this,"$type",{value:i,enumerable:!0}),n.define(this,"$attrs",{value:{}}),n.define(this,"$parent",{writable:!0}),o(e,m((function(e,t){this.set(t,e)}),this))}return a.prototype=r,a.hasType=r.$instanceOf=this.model.hasType,n.defineModel(a,t),n.defineDescriptor(a,e),a};var d={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},h={String:function(e){return e},Boolean:function(e){return"true"===e},Integer:function(e){return parseInt(e,10)},Real:function(e){return parseFloat(e,10)}};function g(e,t){var n=h[e];return n?n(t):t}function x(e){return!!d[e]}function b(e){return!!h[e]}function N(e,t){var n,r,i=e.split(/:/);if(1===i.length)n=e,r=t;else{if(2!==i.length)throw new Error("expected <prefix:localName> or <localName>, got "+e);n=i[1],r=i[0]}return{name:e=(r?r+":":"")+n,prefix:r,localName:n}}function v(e){this.ns=e,this.name=e.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function E(e,t){this.packageMap={},this.typeMap={},this.packages=[],this.properties=t,o(e,m(this.registerPackage,this))}function A(e,t,n){var r=t[n];if(r in e)throw new Error("package with "+n+" <"+r+"> already defined")}function D(e){this.model=e}function M(e,t,n){Object.defineProperty(e,t.name,{enumerable:!t.isReference,writable:!0,value:n,configurable:!0})}function w(e){this.properties=new D(this),this.factory=new f(this,this.properties),this.registry=new E(e,this.properties),this.typeCache={}}v.prototype.build=function(){return e=this,t=["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"],n={},r=Object(e),o(t,(function(t){t in r&&(n[t]=e[t])})),n;var e,t,n,r},v.prototype.addProperty=function(e,t,n){"boolean"==typeof t&&(n=t,t=void 0),this.addNamedProperty(e,!1!==n);var r=this.properties;void 0!==t?r.splice(t,0,e):r.push(e)},v.prototype.replaceProperty=function(e,t,n){var r=e.ns,i=this.properties,a=this.propertiesByName,s=e.name!==t.name;if(e.isId){if(!t.isId)throw new Error("property <"+t.ns.name+"> must be id property to refine <"+e.ns.name+">");this.setIdProperty(t,!1)}if(e.isBody){if(!t.isBody)throw new Error("property <"+t.ns.name+"> must be body property to refine <"+e.ns.name+">");this.setBodyProperty(t,!1)}var o=i.indexOf(e);if(-1===o)throw new Error("property <"+r.name+"> not found in property list");i.splice(o,1),this.addProperty(t,n?void 0:o,s),a[r.name]=a[r.localName]=t},v.prototype.redefineProperty=function(e,t,n){var r=e.ns.prefix,i=t.split("#"),a=N(i[0],r),s=N(i[1],a.prefix).name,o=this.propertiesByName[s];if(!o)throw new Error("refined property <"+s+"> not found");this.replaceProperty(o,e,n),delete e.redefines},v.prototype.addNamedProperty=function(e,t){var n=e.ns,r=this.propertiesByName;t&&(this.assertNotDefined(e,n.name),this.assertNotDefined(e,n.localName)),r[n.name]=r[n.localName]=e},v.prototype.removeNamedProperty=function(e){var t=e.ns,n=this.propertiesByName;delete n[t.name],delete n[t.localName]},v.prototype.setBodyProperty=function(e,t){if(t&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+e.ns.name+">)");this.bodyProperty=e},v.prototype.setIdProperty=function(e,t){if(t&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+e.ns.name+">)");this.idProperty=e},v.prototype.assertNotDefined=function(e,t){var n=e.name,r=this.propertiesByName[n];if(r)throw new Error("property <"+n+"> already defined; override of <"+r.definedBy.ns.name+"#"+r.ns.name+"> by <"+e.definedBy.ns.name+"#"+e.ns.name+"> not allowed without redefines")},v.prototype.hasProperty=function(e){return this.propertiesByName[e]},v.prototype.addTrait=function(e,t){var n=this.allTypesByName,r=this.allTypes,i=e.name;i in n||(o(e.properties,m((function(n){n=c({},n,{name:n.ns.localName,inherited:t}),Object.defineProperty(n,"definedBy",{value:e});var r=n.replaces,i=n.redefines;r||i?this.redefineProperty(n,r||i,r):(n.isBody&&this.setBodyProperty(n),n.isId&&this.setIdProperty(n),this.addProperty(n))}),this)),r.push(e),n[i]=e)},E.prototype.getPackage=function(e){return this.packageMap[e]},E.prototype.getPackages=function(){return this.packages},E.prototype.registerPackage=function(e){e=c({},e);var t=this.packageMap;A(t,e,"prefix"),A(t,e,"uri"),o(e.types,m((function(t){this.registerType(t,e)}),this)),t[e.uri]=t[e.prefix]=e,this.packages.push(e)},E.prototype.registerType=function(e,t){var n=N((e=c({},e,{superClass:(e.superClass||[]).slice(),extends:(e.extends||[]).slice(),properties:(e.properties||[]).slice(),meta:c(e.meta||{})})).name,t.prefix),r=n.name,i={};o(e.properties,m((function(e){var t=N(e.name,n.prefix),r=t.name;x(e.type)||(e.type=N(e.type,t.prefix).name),c(e,{ns:t,name:r}),i[r]=e}),this)),c(e,{ns:n,name:r,propertiesByName:i}),o(e.extends,m((function(e){var t=this.typeMap[e];t.traits=t.traits||[],t.traits.push(r)}),this)),this.definePackage(e,t),this.typeMap[r]=e},E.prototype.mapTypes=function(e,t,n){var r=x(e.name)?{name:e.name}:this.typeMap[e.name],i=this;function a(e){return s(e,!0)}function s(n,r){var a=N(n,x(n)?"":e.prefix);i.mapTypes(a,t,r)}if(!r)throw new Error("unknown type <"+e.name+">");o(r.superClass,n?a:s),t(r,!n),o(r.traits,a)},E.prototype.getEffectiveDescriptor=function(e){var t=N(e),n=new v(t);this.mapTypes(t,(function(e,t){n.addTrait(e,t)}));var r=n.build();return this.definePackage(r,r.allTypes[r.allTypes.length-1].$pkg),r},E.prototype.definePackage=function(e,t){this.properties.define(e,"$pkg",{value:t})},D.prototype.set=function(e,t,n){var r=this.model.getPropertyDescriptor(e,t),i=r&&r.name;void 0===n?r?delete e[i]:delete e.$attrs[t]:r?i in e?e[i]=n:M(e,r,n):e.$attrs[t]=n},D.prototype.get=function(e,t){var n=this.model.getPropertyDescriptor(e,t);if(!n)return e.$attrs[t];var r=n.name;return!e[r]&&n.isMany&&M(e,n,[]),e[r]},D.prototype.define=function(e,t,n){Object.defineProperty(e,t,n)},D.prototype.defineDescriptor=function(e,t){this.define(e,"$descriptor",{value:t})},D.prototype.defineModel=function(e,t){this.define(e,"$model",{value:t})},w.prototype.create=function(e,t){var n=this.getType(e);if(!n)throw new Error("unknown type <"+e+">");return new n(t)},w.prototype.getType=function(e){var t=this.typeCache,n=r(e)?e:e.ns.name,i=t[n];return i||(e=this.registry.getEffectiveDescriptor(n),i=t[n]=this.factory.createType(e)),i},w.prototype.createAny=function(t,n,r){var i=N(t),a={$type:t,$instanceOf:function(e){return e===this.$type}},s={name:t,isGeneric:!0,ns:{prefix:i.prefix,localName:i.localName,uri:n}};return this.properties.defineDescriptor(a,s),this.properties.defineModel(a,this),this.properties.define(a,"$parent",{enumerable:!1,writable:!0}),o(r,(function(t,n){var r;r=t,"[object Object]"===e.call(r)&&void 0!==t.value?a[t.name]=t.value:a[n]=t})),a},w.prototype.getPackage=function(e){return this.registry.getPackage(e)},w.prototype.getPackages=function(){return this.registry.getPackages()},w.prototype.getElementDescriptor=function(e){return e.$descriptor},w.prototype.hasType=function(e,t){return void 0===t&&(t=e,e=this),t in e.$model.getElementDescriptor(e).allTypesByName},w.prototype.getPropertyDescriptor=function(e,t){return this.getElementDescriptor(e).propertiesByName[t]},w.prototype.getTypeDescriptor=function(e){return this.registry.typeMap[e]};var C=String.fromCharCode,R=Object.prototype.hasOwnProperty,I=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,P={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};function S(e,t,n,r){return r?R.call(P,r)?P[r]:"&"+r+";":C(t||parseInt(n,16))}function T(e){return e.length>3&&-1!==e.indexOf("&")?e.replace(I,S):e}Object.keys(P).forEach((function(e){P[e.toUpperCase()]=P[e]}));var O="http://www.w3.org/2001/XMLSchema-instance",z="xsi",k="xsi:type",B="non-whitespace outside of root node";function L(e){return new Error(e)}function U(e){return"missing namespace for prefix <"+e+">"}function $(e){return{get:e,enumerable:!0}}function j(e){var t,n={};for(t in e)n[t]=e[t];return n}function q(e){return e+"$uri"}function V(){return{line:0,column:0}}function F(e){throw e}function _(e){if(!this)return new _(e);var t,n,r,i,a,s,o,p,l,m=e&&e.proxy,u=F,c=V,y=!1,f=!1,d=null,h=!1;function g(e){e instanceof Error||(e=L(e)),d=e,u(e,c)}function x(e){a&&(e instanceof Error||(e=L(e)),a(e,c))}this.on=function(e,l){if("function"!=typeof l)throw L("required args <name, cb>");switch(e){case"openTag":n=l;break;case"text":t=l;break;case"closeTag":r=l;break;case"error":u=l;break;case"warn":a=l;break;case"cdata":i=l;break;case"attention":p=l;break;case"question":o=l;break;case"comment":s=l;break;default:throw L("unsupported event: "+e)}return this},this.ns=function(e){if(void 0===e&&(e={}),"object"!=typeof e)throw L("required args <nsMap={}>");var t,n={};for(t in e)n[t]=e[t];return n[O]=z,f=!0,l=n,this},this.parse=function(e){if("string"!=typeof e)throw L("required args <xml=string>");return d=null,function(e){var a,u,d,b,N,v,E,A,D,M,w=f?[]:null,C=f?function(e){var t,n,r={};for(t in e)r[n=e[t]]=n,r[q(n)]=t;return r}(l):null,R=[],I=0,P=!1,S=!1,O=0,z=0,L="",V=0;function F(){if(null!==M)return M;var e,t,n,r,i,a,s,o,p,m,u,c=f&&C.xmlns,d=f&&y?[]:null,h=V,g=L,b=g.length,N={},v={};e:for(;h<b;h++)if(p=!1,!(32===(m=g.charCodeAt(h))||m<14&&m>8)){for((m<65||m>122||m>90&&m<97)&&95!==m&&58!==m&&(x("illegal first char attribute name"),p=!0),u=h+1;u<b;u++)if(!((m=g.charCodeAt(u))>96&&m<123||m>64&&m<91||m>47&&m<59||46===m||45===m||95===m)){if(32===m||m<14&&m>8){x("missing attribute value"),h=u;continue e}if(61===m)break;x("illegal attribute name char"),p=!0}if("xmlns:xmlns"===(o=g.substring(h,u))&&(x("illegal declaration of xmlns"),p=!0),34===(m=g.charCodeAt(u+1)))-1===(u=g.indexOf('"',h=u+2))&&-1!==(u=g.indexOf("'",h))&&(x("attribute value quote missmatch"),p=!0);else if(39===m)-1===(u=g.indexOf("'",h=u+2))&&-1!==(u=g.indexOf('"',h))&&(x("attribute value quote missmatch"),p=!0);else for(x("missing attribute value quotes"),p=!0,u+=1;u<b&&!(32===(m=g.charCodeAt(u+1))||m<14&&m>8);u++);for(-1===u&&(x("missing closing quotes"),u=b,p=!0),p||(a=g.substring(h,u)),h=u;u+1<b&&!(32===(m=g.charCodeAt(u+1))||m<14&&m>8);u++)h===u&&(x("illegal character after attribute end"),p=!0);if(h=u+1,!p)if(o in v)x("attribute <"+o+"> already defined");else if(v[o]=!0,f)if(y){if(null!==(i="xmlns"===o?"xmlns":120===o.charCodeAt(0)&&"xmlns:"===o.substr(0,6)?o.substr(6):null)){if(e=T(a),t=q(i),!(s=l[e])){if("xmlns"===i||t in C&&C[t]!==e)do{s="ns"+I++}while(void 0!==C[s]);else s=i;l[e]=s}C[i]!==s&&(r||(C=j(C),r=!0),C[i]=s,"xmlns"===i&&(C[q(s)]=e,c=s),C[t]=e),N[o]=a;continue}d.push(o,a)}else-1!==(m=o.indexOf(":"))?(n=C[o.substring(0,m)])?((o=c===n?o.substr(m+1):n+o.substr(m))===k&&(-1!==(m=a.indexOf(":"))?(n=a.substring(0,m),a=(n=C[n]||n)+a.substring(m)):a=c+":"+a),N[o]=a):x(U(o.substring(0,m))):N[o]=a;else N[o]=a}if(y)for(h=0,b=d.length;h<b;h++){if(o=d[h++],a=d[h],-1!==(m=o.indexOf(":"))){if(!(n=C[o.substring(0,m)])){x(U(o.substring(0,m)));continue}(o=c===n?o.substr(m+1):n+o.substr(m))===k&&(-1!==(m=a.indexOf(":"))?(n=a.substring(0,m),a=(n=C[n]||n)+a.substring(m)):a=c+":"+a)}N[o]=a}return M=N}c=function(){var t,n,r=/(\r\n|\r|\n)/g,i=0,a=0,s=0,o=z;for(;O>=s&&(t=r.exec(e))&&!((o=t[0].length+t.index)>O);)i+=1,s=o;-1==O?(a=o,n=e.substring(z)):0===z?(console.log(O-s),n=e.substring(z,O)):(a=O-s,n=-1==z?e.substring(O):e.substring(O,z+1));return{data:n,line:i,column:a}},m&&(D=Object.create({},{name:$((function(){return E})),originalName:$((function(){return A})),attrs:$(F),ns:$((function(){return C}))}));for(;-1!==z;){if(-1===(O=60===e.charCodeAt(z)?z:e.indexOf("<",z)))return R.length?g("unexpected end of file"):0===z?g("missing start tag"):void(z<e.length&&e.substring(z).trim()&&x(B));if(z!==O)if(R.length){if(t&&(t(e.substring(z,O),T,c),h))return}else if(e.substring(z,O).trim()&&(x(B),h))return;if(33!==(N=e.charCodeAt(O+1)))if(63!==N){if(-1==(z=e.indexOf(">",O+1)))return g("unclosed tag");if(M={},47===N){if(P=!1,S=!0,!R.length)return g("missing open tag");if(u=E=R.pop(),b=O+2+u.length,e.substring(O+2,b)!==u)return g("closing tag mismatch");for(;b<z;b++)if(!(32===(N=e.charCodeAt(b))||N>8&&N<14))return g("close tag")}else{if(47===e.charCodeAt(z-1)?(u=E=e.substring(O+1,z-1),P=!0,S=!0):(u=E=e.substring(O+1,z),P=!0,S=!1),!(N>96&&N<123||N>64&&N<91||95===N||58===N))return g("illegal first char nodeName");for(b=1,d=u.length;b<d;b++)if(!((N=u.charCodeAt(b))>96&&N<123||N>64&&N<91||N>47&&N<59||45===N||95===N||46==N)){if(32===N||N<14&&N>8){E=u.substring(0,b),M=null;break}return g("invalid nodeName")}S||R.push(E)}if(f){if(a=C,P&&(S||w.push(a),null===M&&(y=-1!==u.indexOf("xmlns",b))&&(V=b,L=u,F(),y=!1)),A=E,-1!==(N=E.indexOf(":"))){if(!(v=C[E.substring(0,N)]))return g("missing namespace on <"+A+">");E=E.substr(N+1)}else v=C.xmlns;v&&(E=v+":"+E)}if(P&&(V=b,L=u,n&&(m?n(D,T,S,c):n(E,F,T,S,c),h)))return;if(S){if(r&&(r(m?D:E,T,P,c),h))return;f&&(C=P?a:w.pop())}z+=1}else{if(-1===(z=e.indexOf("?>",O)))return g("unclosed question");if(o&&(o(e.substring(O,z+2),c),h))return;z+=2}else{if(91===(N=e.charCodeAt(O+2))&&"CDATA["===e.substr(O+3,6)){if(-1===(z=e.indexOf("]]>",O)))return g("unclosed cdata");if(i&&(i(e.substring(O+9,z),c),h))return;z+=3;continue}if(45===N&&45===e.charCodeAt(O+3)){if(-1===(z=e.indexOf("--\x3e",O)))return g("unclosed comment");if(s&&(s(e.substring(O+4,z),T,c),h))return;z+=3;continue}if(-1===(z=e.indexOf(">",O+1)))return g("unclosed tag");if(p&&(p(e.substring(O,z+1),T,c),h))return;z+=1}}}(e),c=V,h=!1,d},this.stop=function(){h=!0}}function G(e){return e.xml&&"lowerCase"===e.xml.tagAlias}var K={xsi:"http://www.w3.org/2001/XMLSchema-instance"},H="xsi:type";function X(e){return e.xml&&e.xml.serialize}function W(e){return X(e)===H}function Q(e,t){return G(t)?e.prefix+":"+((n=e.localName).charAt(0).toUpperCase()+n.slice(1)):e.name;var n}function Y(e){return new Error(e)}function J(e){return e.$descriptor}function Z(e){c(this,e),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(e){this.references.push(e)},this.addElement=function(e){if(!e)throw Y("expected element");var t,n=this.elementsById,r=J(e).idProperty;if(r&&(t=e.get(r.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(t))throw new Error("illegal ID <"+t+">");if(n[t])throw Y("duplicate ID <"+t+">");n[t]=e}},this.addWarning=function(e){this.warnings.push(e)}}function ee(){}function te(){}function ne(){}function re(e,t){this.property=e,this.context=t}function ie(e,t){this.element=t,this.propertyDesc=e}function ae(){}function se(e,t,n){this.model=e,this.type=e.getType(t),this.context=n}function oe(e,t,n){se.call(this,e,t,n)}function pe(e,t,n){this.model=e,this.context=n}function le(e){e instanceof w&&(e={model:e}),c(this,{lax:!1},e)}ee.prototype.handleEnd=function(){},ee.prototype.handleText=function(){},ee.prototype.handleNode=function(){},te.prototype=Object.create(ee.prototype),te.prototype.handleNode=function(){return this},ne.prototype=Object.create(ee.prototype),ne.prototype.handleText=function(e){this.body=(this.body||"")+e},re.prototype=Object.create(ne.prototype),re.prototype.handleNode=function(e){if(this.element)throw Y("expected no sub nodes");return this.element=this.createReference(e),this},re.prototype.handleEnd=function(){this.element.id=this.body},re.prototype.createReference=function(e){return{property:this.property.ns.name,id:""}},ie.prototype=Object.create(ne.prototype),ie.prototype.handleEnd=function(){var e=this.body||"",t=this.element,n=this.propertyDesc;e=g(n.type,e),n.isMany?t.get(n.name).push(e):t.set(n.name,e)},ae.prototype=Object.create(ne.prototype),ae.prototype.handleNode=function(e){var t=this,n=this.element;return n?t=this.handleChild(e):(n=this.element=this.createElement(e),this.context.addElement(n)),t},se.prototype=Object.create(ae.prototype),se.prototype.addReference=function(e){this.context.addReference(e)},se.prototype.handleText=function(e){if(!J(this.element).bodyProperty)throw Y("unexpected body text <"+e+">");ne.prototype.handleText.call(this,e)},se.prototype.handleEnd=function(){var e=this.body,t=this.element,n=J(t).bodyProperty;n&&void 0!==e&&(e=g(n.type,e),t.set(n.name,e))},se.prototype.createElement=function(e){var t,n=e.attributes,r=this.type,i=J(r),a=this.context,s=new r({}),p=this.model;return o(n,(function(e,n){var r=i.propertiesByName[n];r&&r.isReference?r.isMany?o(e.split(" "),(function(e){a.addReference({element:s,property:r.ns.name,id:e})})):a.addReference({element:s,property:r.ns.name,id:e}):(r?e=g(r.type,e):"xmlns"!==n&&(t=N(n,i.ns.prefix),p.getPackage(t.prefix)&&a.addWarning({message:"unknown attribute <"+n+">",element:s,property:n,value:e})),s.set(n,e))})),s},se.prototype.getPropertyForNode=function(e){var t,n,r=N(e.name),i=this.type,s=this.model,o=J(i),p=r.name,l=o.propertiesByName[p];if(l)return W(l)&&(t=e.attributes[H])?(t=function(e,t){var n=N(e);return function(e,t){var n=e.name,r=e.localName,i=t.xml&&t.xml.typePrefix;return i&&0===r.indexOf(i)?e.prefix+":"+r.slice(i.length):n}(n,t.getPackage(n.prefix))}(t,s),c({},l,{effectiveType:J(n=s.getType(t)).name})):l;var m=s.getPackage(r.prefix);if(m){if(t=Q(r,m),n=s.getType(t),l=a(o.properties,(function(e){return!e.isVirtual&&!e.isReference&&!e.isAttribute&&n.hasType(e.type)})))return c({},l,{effectiveType:J(n).name})}else if(l=a(o.properties,(function(e){return!e.isReference&&!e.isAttribute&&"Element"===e.type})))return l;throw Y("unrecognized element <"+r.name+">")},se.prototype.toString=function(){return"ElementDescriptor["+J(this.type).name+"]"},se.prototype.valueHandler=function(e,t){return new ie(e,t)},se.prototype.referenceHandler=function(e){return new re(e,this.context)},se.prototype.handler=function(e){return"Element"===e?new pe(this.model,e,this.context):new se(this.model,e,this.context)},se.prototype.handleChild=function(e){var t,n,r,i;if(t=this.getPropertyForNode(e),r=this.element,b(n=t.effectiveType||t.type))return this.valueHandler(t,r);var a=(i=t.isReference?this.referenceHandler(t).handleNode(e):this.handler(n).handleNode(e)).element;return void 0!==a&&(t.isMany?r.get(t.name).push(a):r.set(t.name,a),t.isReference?(c(a,{element:r}),this.context.addReference(a)):a.$parent=r),i},oe.prototype=Object.create(se.prototype),oe.prototype.createElement=function(e){var t=e.name,n=N(t),r=this.model,i=this.type,a=r.getPackage(n.prefix),s=a&&Q(n,a)||t;if(!i.hasType(s))throw Y("unexpected element <"+e.originalName+">");return se.prototype.createElement.call(this,e)},pe.prototype=Object.create(ae.prototype),pe.prototype.createElement=function(e){var t=e.name,n=N(t).prefix,r=e.ns[n+"$uri"],i=e.attributes;return this.model.createAny(t,r,i)},pe.prototype.handleChild=function(e){var t=new pe(this.model,"Element",this.context).handleNode(e),n=this.element,r=t.element;return void 0!==r&&((n.$children=n.$children||[]).push(r),r.$parent=n),t},pe.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},le.prototype.fromXML=function(e,t,n){var r=t.rootHandler;t instanceof se?(r=t,t={}):"string"==typeof t?(r=this.handler(t),t={}):"string"==typeof r&&(r=this.handler(r));var i=this.model,a=this.lax,s=new Z(c({},t,{rootHandler:r})),o=new _({proxy:!0}),p=function(){var e=[];return Object.defineProperty(e,"peek",{value:function(){return this[this.length-1]}}),e}();function l(e,t,n){var r=t(),i=r.line,a=r.column,o=r.data;"<"===o.charAt(0)&&-1!==o.indexOf(" ")&&(o=o.slice(0,o.indexOf(" "))+">");var p="unparsable content "+(o?o+" ":"")+"detected\n\tline: "+i+"\n\tcolumn: "+a+"\n\tnested error: "+e.message;if(n)return s.addWarning({message:p,error:e}),!0;throw Y(p)}function m(e,t){return l(e,t,!0)}r.context=s,p.push(r);var u=/^<\?xml /i,y=/ encoding="([^"]+)"/i,f=/^utf-8$/i;function d(e,t){try{p.peek().handleText(e)}catch(e){m(e,t)}}var h=i.getPackages().reduce((function(e,t){return e[t.uri]=t.prefix,e}),{});o.ns(h).on("openTag",(function(e,t,n,r){var i=e.attrs||{},s=Object.keys(i).reduce((function(e,n){var r=t(i[n]);return e[n]=r,e}),{});!function(e,t){var n=p.peek();try{p.push(n.handleNode(e))}catch(e){l(e,t,a)&&p.push(new te)}}({name:e.name,originalName:e.originalName,attributes:s,ns:e.ns},r)})).on("question",(function(e){if(u.test(e)){var t=y.exec(e),n=t&&t[1];n&&!f.test(n)&&s.addWarning({message:"unsupported document encoding <"+n+">, falling back to UTF-8"})}})).on("closeTag",(function(){p.pop().handleEnd()})).on("cdata",d).on("text",(function(e,t,n){!function(e,t){(e=e.trim())&&d(e,t)}(t(e),n)})).on("error",l).on("warn",m),setTimeout((function(){var t;try{o.parse(e),function(){var e,t,n=s.elementsById,r=s.references;for(e=0;t=r[e];e++){var i=t.element,a=n[t.id],o=J(i).propertiesByName[t.property];if(a||s.addWarning({message:"unresolved reference <"+t.id+">",element:t.element,property:t.property,value:t.id}),o.isMany){var p=i.get(o.name),l=p.indexOf(t);-1===l&&(l=p.length),a?p[l]=a:p.splice(l,1)}else i.set(o.name,a)}}()}catch(e){t=e}var i=r.element;t||i||(t=Y("failed to parse document as <"+r.type.$descriptor.name+">")),n(t,t?void 0:i,s)}),0)},le.prototype.handler=function(e){return new oe(this.model,e)};var me='<?xml version="1.0" encoding="UTF-8"?>\n',ue=/<|>|'|"|&|\n\r|\n/g,ce=/<|>|&/g;function ye(e){var t={},n={},r={},i=[],a=[];this.byUri=function(t){return n[t]||e&&e.byUri(t)},this.add=function(e,t){n[e.uri]=e,t?i.push(e):a.push(e),this.mapPrefix(e.prefix,e.uri)},this.uriByPrefix=function(e){return t[e||"xmlns"]},this.mapPrefix=function(e,n){t[e||"xmlns"]=n},this.logUsed=function(e){var t=e.uri;r[t]=this.byUri(t)},this.getUsed=function(e){return[].concat(i,a).filter((function(e){return r[e.uri]}))}}function fe(e,t){return G(t)?(n=e).charAt(0).toLowerCase()+n.slice(1):e;var n}function de(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function he(e){return r(e)?e:(e.prefix?e.prefix+":":"")+e.localName}function ge(e){return t=e.getUsed(),n=function(e){return{name:"xmlns"+(e.prefix?":"+e.prefix:""),value:e.uri}},r=[],o(t,(function(e,t){r.push(n(e,t))})),r;var t,n,r}var xe={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},be={"<":"lt",">":"gt","&":"amp"};function Ne(e,t,n){return(e=r(e)?e:""+e).replace(t,(function(e){return"&"+n[e]+";"}))}function ve(e){this.tagName=e}function Ee(){}function Ae(e){this.tagName=e}function De(e,t){this.body=[],this.attrs=[],this.parent=e,this.propertyDescriptor=t}function Me(e,t){De.call(this,e,t)}function we(){this.value="",this.write=function(e){this.value+=e}}function Ce(e,t){var n=[""];this.append=function(t){return e.write(t),this},this.appendNewLine=function(){return t&&e.write("\n"),this},this.appendIndent=function(){return t&&e.write(n.join("  ")),this},this.indent=function(){return n.push(""),this},this.unindent=function(){return n.pop(),this}}function Re(e){return e=c({format:!1,preamble:!0},e||{}),{toXML:function(t,n){var r=n||new we,i=new Ce(r,e.format);if(e.preamble&&i.append(me),(new De).build(t).serializeTo(i),!n)return r.value}}}function Ie(e,t){w.call(this,e,t)}ve.prototype.build=function(e){return this.element=e,this},ve.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},Ee.prototype.serializeValue=Ee.prototype.serializeTo=function(e){e.append(this.escape?Ne(this.value,ce,be):this.value)},Ee.prototype.build=function(e,t){return this.value=t,"String"===e.type&&-1!==t.search(ce)&&(this.escape=!0),this},de(Ae,Ee),Ae.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"),this.serializeValue(e),e.append("</"+this.tagName+">").appendNewLine()},De.prototype.build=function(e){this.element=e;var t,n,r=e.$descriptor,i=this.propertyDescriptor,a=r.isGeneric;return t=a?this.parseGeneric(e):this.parseNsAttributes(e),this.ns=i?this.nsPropertyTagName(i):this.nsTagName(r),this.tagName=this.addTagName(this.ns),a||(n=function(e){return s(e.$descriptor.properties,(function(t){var n=t.name;if(t.isVirtual)return!1;if(!e.hasOwnProperty(n))return!1;var r=e[n];return r!==t.default&&(null!==r&&(!t.isMany||r.length))}))}(e),this.parseAttributes(s(n,(function(e){return e.isAttr}))),this.parseContainments(function(e){return s(e,(function(e){return!e.isAttr}))}(n))),this.parseGenericAttributes(e,t),this},De.prototype.nsTagName=function(e){return function(e,t){return t.isGeneric?c({localName:t.ns.localName},e):c({localName:fe(t.ns.localName,t.$pkg)},e)}(this.logNamespaceUsed(e.ns),e)},De.prototype.nsPropertyTagName=function(e){return function(e,t){return c({localName:t.ns.localName},e)}(this.logNamespaceUsed(e.ns),e)},De.prototype.isLocalNs=function(e){return e.uri===this.ns.uri},De.prototype.nsAttributeName=function(e){var t;if(t=r(e)?N(e):e.ns,e.inherited)return{localName:t.localName};var n=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(n),this.isLocalNs(n)?{localName:t.localName}:c({localName:t.localName},n)},De.prototype.parseGeneric=function(e){var t=this,n=this.body,r=[];return o(e,(function(i,a){"$body"===a?n.push((new Ee).build({type:"String"},i)):"$children"===a?o(i,(function(e){n.push(new De(t).build(e))})):0!==a.indexOf("$")&&t.parseNsAttribute(e,a,i)&&r.push({name:a,value:i})})),r},De.prototype.parseNsAttribute=function(e,t,n){var r,i=e.$model,a=N(t);if("xmlns"===a.prefix&&(r={prefix:a.localName,uri:n}),a.prefix||"xmlns"!==a.localName||(r={uri:n}),!r)return{name:t,value:n};if(i&&i.getPackage(n))this.logNamespace(r,!0,!0);else{var s=this.logNamespaceUsed(r,!0);this.getNamespaces().logUsed(s)}},De.prototype.parseNsAttributes=function(e,t){var n=this,r=e.$attrs,i=[];return o(r,(function(t,r){var a=n.parseNsAttribute(e,r,t);a&&i.push(a)})),i},De.prototype.parseGenericAttributes=function(e,t){var n=this;o(t,(function(t){if(t.name!==H)try{n.addAttribute(n.nsAttributeName(t.name),t.value)}catch(n){console.warn("missing namespace information for ",t.name,"=",t.value,"on",e,n)}}))},De.prototype.parseContainments=function(e){var t=this,n=this.body,r=this.element;o(e,(function(e){var i=r.get(e.name),a=e.isReference;if(e.isMany||(i=[i]),e.isBody)n.push((new Ee).build(e,i[0]));else if(b(e.type))o(i,(function(r){n.push(new Ae(t.addTagName(t.nsPropertyTagName(e))).build(e,r))}));else if(a)o(i,(function(r){n.push(new ve(t.addTagName(t.nsPropertyTagName(e))).build(r))}));else{var s=W(e),p=function(e){return"property"===X(e)}(e);o(i,(function(r){var i;i=s?new Me(t,e):p?new De(t,e):new De(t),n.push(i.build(r))}))}}))},De.prototype.getNamespaces=function(e){var t,n=this.namespaces,r=this.parent;return n||(t=r&&r.getNamespaces(),e||!t?this.namespaces=n=new ye(t):n=t),n},De.prototype.logNamespace=function(e,t,n){var r=this.getNamespaces(n),i=e.uri,a=e.prefix;return r.byUri(i)||r.add(e,t),r.mapPrefix(a,i),e},De.prototype.logNamespaceUsed=function(e,t){var n,r,i,a=this.element.$model,s=this.getNamespaces(t),o=e.prefix,p=e.uri;if(!o&&!p)return{localName:e.localName};if(i=K[o]||a&&(a.getPackage(o)||{}).uri,!(p=p||i||s.uriByPrefix(o)))throw new Error("no namespace uri given for prefix <"+o+">");if(!(e=s.byUri(p))){for(n=o,r=1;s.uriByPrefix(n);)n=o+"_"+r++;e=this.logNamespace({prefix:n,uri:p},i===p)}return o&&s.mapPrefix(o,p),e},De.prototype.parseAttributes=function(e){var t=this,n=this.element;o(e,(function(e){var r=n.get(e.name);if(e.isReference)if(e.isMany){var i=[];o(r,(function(e){i.push(e.id)})),r=i.join(" ")}else r=r.id;t.addAttribute(t.nsAttributeName(e),r)}))},De.prototype.addTagName=function(e){var t=this.logNamespaceUsed(e);return this.getNamespaces().logUsed(t),he(e)},De.prototype.addAttribute=function(e,t){var n=this.attrs;r(t)&&(t=Ne(t,ue,xe)),n.push({name:e,value:t})},De.prototype.serializeAttributes=function(e){var t=this.attrs,n=this.namespaces;n&&(t=ge(n).concat(t)),o(t,(function(t){e.append(" ").append(he(t.name)).append('="').append(t.value).append('"')}))},De.prototype.serializeTo=function(e){var t=this.body[0],n=t&&t.constructor!==Ee;e.appendIndent().append("<"+this.tagName),this.serializeAttributes(e),e.append(t?">":" />"),t&&(n&&e.appendNewLine().indent(),o(this.body,(function(t){t.serializeTo(e)})),n&&e.unindent().appendIndent(),e.append("</"+this.tagName+">")),e.appendNewLine()},de(Me,De),Me.prototype.parseNsAttributes=function(e){var t=De.prototype.parseNsAttributes.call(this,e),n=e.$descriptor;if(n.name===this.propertyDescriptor.type)return t;var r=this.typeNs=this.nsTagName(n);this.getNamespaces().logUsed(this.typeNs);var i=e.$model.getPackage(r.uri),a=i.xml&&i.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(H),(r.prefix?r.prefix+":":"")+a+n.ns.localName),t},Me.prototype.isLocalNs=function(e){return e.uri===(this.typeNs||this.ns).uri},Ie.prototype=Object.create(w.prototype),Ie.prototype.fromXML=function(e,t,i,a){r(t)||(a=i,i=t,t="dmn:Definitions"),n(i)&&(a=i,i={});var s=new le(c({model:this,lax:!0},i)),o=s.handler(t);s.fromXML(e,o,a)},Ie.prototype.toXML=function(e,t,r){n(t)&&(r=t,t={});var i,a,s=new Re(t);try{i=s.toXML(e)}catch(e){a=e}return r(a,i)};var Pe={dc:{name:"DC",prefix:"dc",uri:"http://www.omg.org/spec/DMN/20180521/DC/",types:[{name:"Dimension",properties:[{name:"width",isAttr:!0,type:"Real"},{name:"height",isAttr:!0,type:"Real"}]},{name:"Bounds",properties:[{name:"height",isAttr:!0,type:"Real"},{name:"width",isAttr:!0,type:"Real"},{name:"x",isAttr:!0,type:"Real"},{name:"y",isAttr:!0,type:"Real"}]},{name:"Point",properties:[{name:"x",isAttr:!0,type:"Real"},{name:"y",isAttr:!0,type:"Real"}]},{name:"Color",properties:[{name:"red",type:"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65"},{name:"green",type:"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65"},{name:"blue",type:"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65"}]}],associations:[],enumerations:[{name:"AlignmentKind",literalValues:[{name:"start"},{name:"center"},{name:"end"}]}]},di:{name:"DI",prefix:"di",uri:"http://www.omg.org/spec/DMN/20180521/DI/",types:[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"style",isReference:!0,type:"Style",xml:{serialize:"property"}},{name:"sharedStyle",isReference:!0,isVirtual:!0,type:"Style"}]},{name:"Diagram",superClass:["DiagramElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"}]},{name:"Shape",isAbstract:!0,properties:[{name:"bounds",type:"dc:Bounds"}],superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,properties:[{name:"waypoint",type:"dc:Point",isMany:!0,xml:{serialize:"property"}}],superClass:["DiagramElement"]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]}],associations:[],enumerations:[],xml:{tagAlias:"lowerCase"}},dmn:{name:"DMN",prefix:"dmn",uri:"https://www.omg.org/spec/DMN/20191111/MODEL/",types:[{name:"AuthorityRequirement",superClass:["DMNElement"],properties:[{name:"requiredAuthority",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredDecision",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredInput",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"ItemDefinition",superClass:["NamedElement"],properties:[{name:"typeRef",type:"String"},{name:"allowedValues",type:"UnaryTests",xml:{serialize:"property"}},{name:"typeLanguage",type:"String",isAttr:!0},{name:"itemComponent",type:"ItemDefinition",isMany:!0,xml:{serialize:"property"}},{name:"functionItem",type:"FunctionItem"},{name:"isCollection",isAttr:!0,type:"Boolean"}]},{name:"Definitions",superClass:["NamedElement"],properties:[{name:"import",type:"Import",isMany:!0},{name:"itemDefinition",type:"ItemDefinition",isMany:!0},{name:"drgElement",type:"DRGElement",isMany:!0},{name:"artifact",type:"Artifact",isMany:!0},{name:"elementCollection",type:"ElementCollection",isMany:!0},{name:"businessContextElement",type:"BusinessContextElement",isMany:!0},{name:"namespace",type:"String",isAttr:!0},{name:"expressionLanguage",type:"String",isAttr:!0},{name:"typeLanguage",type:"String",isAttr:!0},{name:"exporter",isAttr:!0,type:"String"},{name:"exporterVersion",isAttr:!0,type:"String"},{name:"dmnDI",type:"dmndi:DMNDI"}]},{name:"KnowledgeSource",superClass:["DRGElement"],properties:[{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0},{name:"type",type:"String"},{name:"owner",type:"DMNElementReference",xml:{serialize:"property"}},{name:"locationURI",type:"String",isAttr:!0}]},{name:"DecisionRule",superClass:["DMNElement"],properties:[{name:"inputEntry",type:"UnaryTests",isMany:!0,xml:{serialize:"property"}},{name:"outputEntry",type:"LiteralExpression",isMany:!0,xml:{serialize:"property"}},{name:"annotationEntry",type:"RuleAnnotation",isMany:!0,xml:{serialize:"property"}}]},{name:"Expression",isAbstract:!0,superClass:["DMNElement"],properties:[{name:"typeRef",isAttr:!0,type:"String"}]},{name:"InformationItem",superClass:["NamedElement"],properties:[{name:"typeRef",isAttr:!0,type:"String"}]},{name:"Decision",superClass:["DRGElement"],properties:[{name:"question",type:"String",xml:{serialize:"property"}},{name:"allowedAnswers",type:"String",xml:{serialize:"property"}},{name:"variable",type:"InformationItem",xml:{serialize:"property"}},{name:"informationRequirement",type:"InformationRequirement",isMany:!0},{name:"knowledgeRequirement",type:"KnowledgeRequirement",isMany:!0},{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0},{name:"supportedObjective",isMany:!0,type:"DMNElementReference",xml:{serialize:"property"}},{name:"impactedPerformanceIndicator",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"decisionMaker",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"decisionOwner",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"usingProcess",isMany:!0,type:"DMNElementReference",xml:{serialize:"property"}},{name:"usingTask",isMany:!0,type:"DMNElementReference",xml:{serialize:"property"}},{name:"decisionLogic",type:"Expression"}]},{name:"Invocation",superClass:["Expression"],properties:[{name:"calledFunction",type:"Expression"},{name:"binding",type:"Binding",isMany:!0}]},{name:"OrganisationalUnit",superClass:["BusinessContextElement"],properties:[{name:"decisionMade",type:"Decision",isReference:!0,isMany:!0},{name:"decisionOwned",type:"Decision",isReference:!0,isMany:!0}]},{name:"Import",superClass:["NamedElement"],properties:[{name:"importType",type:"String",isAttr:!0},{name:"locationURI",type:"String",isAttr:!0},{name:"namespace",type:"String",isAttr:!0}]},{name:"InformationRequirement",superClass:["DMNElement"],properties:[{name:"requiredDecision",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredInput",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"ElementCollection",superClass:["NamedElement"],properties:[{name:"drgElement",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}}]},{name:"DRGElement",isAbstract:!0,superClass:["NamedElement"],properties:[]},{name:"InputData",superClass:["DRGElement"],properties:[{name:"variable",type:"InformationItem",xml:{serialize:"property"}}]},{name:"DMNElement",isAbstract:!0,properties:[{name:"description",type:"String"},{name:"extensionElements",type:"ExtensionElements"},{name:"id",type:"String",isAttr:!0,isId:!0},{name:"extensionAttribute",type:"ExtensionAttribute",isMany:!0},{name:"label",isAttr:!0,type:"String"}]},{name:"InputClause",superClass:["DMNElement"],properties:[{name:"inputExpression",type:"LiteralExpression",xml:{serialize:"property"}},{name:"inputValues",type:"UnaryTests",xml:{serialize:"property"}}]},{name:"DecisionTable",superClass:["Expression"],properties:[{name:"input",type:"InputClause",isMany:!0,xml:{serialize:"property"}},{name:"output",type:"OutputClause",isMany:!0,xml:{serialize:"property"}},{name:"annotation",type:"RuleAnnotationClause",isMany:!0,xml:{serialize:"property"}},{name:"rule",type:"DecisionRule",isMany:!0,xml:{serialize:"property"}},{name:"hitPolicy",type:"HitPolicy",isAttr:!0,default:"UNIQUE"},{name:"aggregation",type:"BuiltinAggregator",isAttr:!0},{name:"preferredOrientation",type:"DecisionTableOrientation",isAttr:!0},{name:"outputLabel",isAttr:!0,type:"String"}]},{name:"LiteralExpression",superClass:["Expression"],properties:[{name:"expressionLanguage",type:"String",isAttr:!0},{name:"text",type:"String"},{name:"importedValues",type:"ImportedValues"}]},{name:"Binding",properties:[{name:"parameter",type:"InformationItem",xml:{serialize:"property"}},{name:"bindingFormula",type:"Expression"}]},{name:"KnowledgeRequirement",superClass:["DMNElement"],properties:[{name:"requiredKnowledge",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"BusinessKnowledgeModel",superClass:["Invocable"],properties:[{name:"encapsulatedLogic",type:"FunctionDefinition",xml:{serialize:"property"}},{name:"knowledgeRequirement",type:"KnowledgeRequirement",isMany:!0},{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0}]},{name:"BusinessContextElement",isAbstract:!0,superClass:["NamedElement"],properties:[{name:"URI",type:"String",isAttr:!0}]},{name:"PerformanceIndicator",superClass:["BusinessContextElement"],properties:[{name:"impactingDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}}]},{name:"FunctionDefinition",superClass:["Expression"],properties:[{name:"formalParameter",type:"InformationItem",isMany:!0,xml:{serialize:"property"}},{name:"body",type:"Expression"},{name:"kind",type:"FunctionKind",isAttr:!0}]},{name:"Context",superClass:["Expression"],properties:[{name:"contextEntry",type:"ContextEntry",isMany:!0}]},{name:"ContextEntry",superClass:["DMNElement"],properties:[{name:"variable",type:"InformationItem",xml:{serialize:"property"}},{name:"value",type:"Expression"}]},{name:"List",superClass:["Expression"],properties:[{name:"elements",isMany:!0,type:"Expression"}]},{name:"Relation",superClass:["Expression"],properties:[{name:"column",type:"InformationItem",isMany:!0,xml:{serialize:"property"}},{name:"row",type:"List",isMany:!0,xml:{serialize:"property"}}]},{name:"OutputClause",superClass:["DMNElement"],properties:[{name:"outputValues",type:"UnaryTests",xml:{serialize:"property"}},{name:"defaultOutputEntry",type:"LiteralExpression",xml:{serialize:"property"}},{name:"name",isAttr:!0,type:"String"},{name:"typeRef",isAttr:!0,type:"String"}]},{name:"UnaryTests",superClass:["Expression"],properties:[{name:"text",type:"String"},{name:"expressionLanguage",type:"String",isAttr:!0}]},{name:"NamedElement",isAbstract:!0,superClass:["DMNElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ImportedValues",superClass:["Import"],properties:[{name:"importedElement",type:"String"},{name:"expressionLanguage",type:"String",isAttr:!0}]},{name:"DecisionService",superClass:["Invocable"],properties:[{name:"outputDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"encapsulatedDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"inputDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"inputData",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}}]},{name:"ExtensionElements",properties:[{name:"values",type:"Element",isMany:!0}]},{name:"ExtensionAttribute",properties:[{name:"value",type:"Element"},{name:"valueRef",type:"Element",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Element",isAbstract:!0,properties:[{name:"extensionAttribute",type:"ExtensionAttribute",isAttr:!0,isReference:!0},{name:"elements",type:"ExtensionElements",isAttr:!0,isReference:!0}]},{name:"Artifact",isAbstract:!0,superClass:["DMNElement"],properties:[]},{name:"Association",superClass:["Artifact"],properties:[{name:"sourceRef",type:"DMNElementReference",xml:{serialize:"property"}},{name:"targetRef",type:"DMNElementReference",xml:{serialize:"property"}},{name:"associationDirection",type:"AssociationDirection",isAttr:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",isAttr:!0,type:"String",default:"text/plain"}]},{name:"RuleAnnotationClause",properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"RuleAnnotation",properties:[{name:"text",type:"String"}]},{name:"Invocable",isAbstract:!0,superClass:["DRGElement"],properties:[{name:"variable",type:"InformationItem",xml:{serialize:"property"}}]},{name:"Group",superClass:["Artifact"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"FunctionItem",superClass:["DMNElement"],properties:[{name:"parameters",isMany:!0,type:"InformationItem",xml:{serialize:"property"}},{name:"outputTypeRef",isAttr:!0,type:"String"}]},{name:"DMNElementReference",properties:[{isAttr:!0,name:"href",type:"String"}]}],enumerations:[{name:"HitPolicy",literalValues:[{name:"UNIQUE"},{name:"FIRST"},{name:"PRIORITY"},{name:"ANY"},{name:"COLLECT"},{name:"RULE ORDER"},{name:"OUTPUT ORDER"}]},{name:"BuiltinAggregator",literalValues:[{name:"SUM"},{name:"COUNT"},{name:"MIN"},{name:"MAX"}]},{name:"DecisionTableOrientation",literalValues:[{name:"Rule-as-Row"},{name:"Rule-as-Column"},{name:"CrossTable"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"FunctionKind",literalValues:[{name:"FEEL"},{name:"Java"},{name:"PMML"}]}],associations:[],xml:{tagAlias:"lowerCase"}},dmndi:{name:"DMNDI",prefix:"dmndi",uri:"https://www.omg.org/spec/DMN/20191111/DMNDI/",types:[{name:"DMNDI",properties:[{name:"diagrams",type:"DMNDiagram",isMany:!0},{name:"styles",type:"DMNStyle",isMany:!0}]},{name:"DMNStyle",superClass:["di:Style"],properties:[{name:"fillColor",type:"dc:Color",isAttr:!0},{name:"strokeColor",type:"dc:Color",isAttr:!0},{name:"fontColor",type:"dc:Color",isAttr:!0},{name:"fontSize",isAttr:!0,type:"Real"},{name:"fontFamily",isAttr:!0,type:"String"},{name:"fontItalic",isAttr:!0,type:"Boolean"},{name:"fontBold",isAttr:!0,type:"Boolean"},{name:"fontUnderline",isAttr:!0,type:"Boolean"},{name:"fontStrikeThrough",isAttr:!0,type:"Boolean"},{name:"labelHorizontalAlignment",type:"dc:AlignmentKind",isAttr:!0},{name:"labelVerticalAlignment",type:"dc:AlignmentKind",isAttr:!0}]},{name:"DMNDiagram",superClass:["di:Diagram"],properties:[{name:"dmnElementRef",type:"dmn:DMNElement",isAttr:!0,isReference:!0},{name:"size",type:"Size"},{name:"localStyle",type:"DMNStyle",isVirtual:!0},{name:"sharedStyle",type:"DMNStyle",isVirtual:!0,isReference:!0,redefines:"di:DiagramElement#sharedStyle"},{name:"diagramElements",type:"DMNDiagramElement",isMany:!0}]},{name:"DMNDiagramElement",isAbstract:!0,superClass:["di:DiagramElement"],properties:[{name:"dmnElementRef",type:"dmn:DMNElement",isAttr:!0,isReference:!0},{name:"sharedStyle",type:"DMNStyle",isVirtual:!0,isReference:!0,redefines:"di:DiagramElement#sharedStyle"},{name:"localStyle",type:"DMNStyle",isVirtual:!0},{name:"label",type:"DMNLabel"}]},{name:"DMNLabel",superClass:["di:Shape"],properties:[{name:"text",type:"Text"}]},{name:"DMNShape",superClass:["di:Shape","DMNDiagramElement"],properties:[{name:"isListedInputData",isAttr:!0,type:"Boolean"},{name:"decisionServiceDividerLine",type:"DMNDecisionServiceDividerLine"},{name:"isCollapsed",isAttr:!0,type:"Boolean"}]},{name:"DMNEdge",superClass:["di:Edge","DMNDiagramElement"],properties:[{name:"sourceElement",type:"DMNDiagramElement",isAttr:!0,isReference:!0},{name:"targetElement",type:"DMNDiagramElement",isAttr:!0,isReference:!0}]},{name:"DMNDecisionServiceDividerLine",superClass:["di:Edge"]},{name:"Text",properties:[{name:"text",isBody:!0,type:"String"}]},{name:"Size",superClass:["dc:Dimension"]}],associations:[],enumerations:[]},biodi:{name:"bpmn.io DI for DMN",uri:"http://bpmn.io/schema/dmn/biodi/2.0",prefix:"biodi",xml:{tagAlias:"lowerCase"},types:[{name:"DecisionTable",isAbstract:!0,extends:["dmn:DecisionTable"],properties:[{name:"annotationsWidth",isAttr:!0,type:"Integer"}]},{name:"OutputClause",isAbstract:!0,extends:["dmn:OutputClause"],properties:[{name:"width",isAttr:!0,type:"Integer"}]},{name:"InputClause",isAbstract:!0,extends:["dmn:InputClause"],properties:[{name:"width",isAttr:!0,type:"Integer"}]}]}};return function(e,t){return new Ie(c({},Pe,e),t)}}));
