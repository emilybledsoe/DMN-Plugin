{"version":3,"sources":["../../../src/render/components/TableComponent.js"],"names":["Component","TableComponent","props","injector","_injector","_sheet","get","_changeSupport","_components","onElementsChanged","bind","forceUpdate","changeSupport","components","getRoot","id","offElementsChanged","rows","cols","beforeTableComponents","getComponents","afterTableComponents","Head","getComponent","Body","Foot","map","index"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA,SAASA,SAAT,QAA0B,SAA1B;;IAGqBC,c;;;;;AAEnB,0BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,wFAAMA,KAAN;AAEA,QAAMC,QAAQ,GAAG,MAAKC,SAAL,GAAiBF,KAAK,CAACC,QAAxC;AAEA,UAAKE,MAAL,GAAcF,QAAQ,CAACG,GAAT,CAAa,OAAb,CAAd;AACA,UAAKC,cAAL,GAAsBJ,QAAQ,CAACG,GAAT,CAAa,eAAb,CAAtB;AACA,UAAKE,WAAL,GAAmBL,QAAQ,CAACG,GAAT,CAAa,YAAb,CAAnB;AAEA,UAAKG,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBC,IAAvB,+BAAzB;AATiB;AAUlB;;;;wCAEmB;AAClB,WAAKC,WAAL;AACD;;;sCAEiB;AAChB,aAAO;AACLC,QAAAA,aAAa,EAAE,KAAKL,cADf;AAELM,QAAAA,UAAU,EAAE,KAAKL,WAFZ;AAGLL,QAAAA,QAAQ,EAAE,KAAKC;AAHV,OAAP;AAKD;;;yCAEoB;AAAA,iCACJ,KAAKC,MAAL,CAAYS,OAAZ,EADI;AAAA,UACXC,EADW,wBACXA,EADW;;AAGnB,WAAKR,cAAL,CAAoBE,iBAApB,CAAsCM,EAAtC,EAA0C,KAAKN,iBAA/C;AACD;;;2CAEsB;AAAA,kCACN,KAAKJ,MAAL,CAAYS,OAAZ,EADM;AAAA,UACbC,EADa,yBACbA,EADa;;AAGrB,WAAKR,cAAL,CAAoBS,kBAApB,CAAuCD,EAAvC,EAA2C,KAAKN,iBAAhD;AACD;;;6BAEQ;AAAA,kCACgB,KAAKJ,MAAL,CAAYS,OAAZ,EADhB;AAAA,UACCG,IADD,yBACCA,IADD;AAAA,UACOC,IADP,yBACOA,IADP;;AAGP,UAAMC,qBAAqB,GAAG,KAAKX,WAAL,CAAiBY,aAAjB,CAA+B,cAA/B,CAA9B;;AACA,UAAMC,oBAAoB,GAAG,KAAKb,WAAL,CAAiBY,aAAjB,CAA+B,aAA/B,CAA7B;;AAEA,UAAME,IAAI,GAAG,KAAKd,WAAL,CAAiBe,YAAjB,CAA8B,YAA9B,CAAb;;AACA,UAAMC,IAAI,GAAG,KAAKhB,WAAL,CAAiBe,YAAjB,CAA8B,YAA9B,CAAb;;AACA,UAAME,IAAI,GAAG,KAAKjB,WAAL,CAAiBe,YAAjB,CAA8B,YAA9B,CAAb;;AAEA,mCACiB,eADjB,GAGMJ,qBAAqB,IACnBA,qBAAqB,CAACO,GAAtB,CAA0B,UAAC1B,SAAD,EAAY2B,KAAZ;AAAA,wDAAuCA,KAAvC;AAAA,OAA1B,CAJR,0BAMqB,WANrB,GAOQL,IAAI;AAAA,gBAAiBL,IAAjB;AAAA,gBAA+BC;AAA/B,QAPZ,EAQQM,IAAI;AAAA,gBAAiBP,IAAjB;AAAA,gBAA+BC;AAA/B,QARZ,EASQO,IAAI;AAAA,gBAAiBR,IAAjB;AAAA,gBAA+BC;AAA/B,QATZ,OAYMG,oBAAoB,IAClBA,oBAAoB,CAACK,GAArB,CAAyB,UAAC1B,SAAD,EAAY2B,KAAZ;AAAA,wDAAuCA,KAAvC;AAAA,OAAzB,CAbR;AAiBD;;;;EAjEyC3B,S;;SAAvBC,c","sourcesContent":["import { Component } from 'inferno';\n\n\nexport default class TableComponent extends Component {\n\n  constructor(props) {\n    super(props);\n\n    const injector = this._injector = props.injector;\n\n    this._sheet = injector.get('sheet');\n    this._changeSupport = injector.get('changeSupport');\n    this._components = injector.get('components');\n\n    this.onElementsChanged = this.onElementsChanged.bind(this);\n  }\n\n  onElementsChanged() {\n    this.forceUpdate();\n  }\n\n  getChildContext() {\n    return {\n      changeSupport: this._changeSupport,\n      components: this._components,\n      injector: this._injector\n    };\n  }\n\n  componentWillMount() {\n    const { id } = this._sheet.getRoot();\n\n    this._changeSupport.onElementsChanged(id, this.onElementsChanged);\n  }\n\n  componentWillUnmount() {\n    const { id } = this._sheet.getRoot();\n\n    this._changeSupport.offElementsChanged(id, this.onElementsChanged);\n  }\n\n  render() {\n    const { rows, cols } = this._sheet.getRoot();\n\n    const beforeTableComponents = this._components.getComponents('table.before');\n    const afterTableComponents = this._components.getComponents('table.after');\n\n    const Head = this._components.getComponent('table.head');\n    const Body = this._components.getComponent('table.body');\n    const Foot = this._components.getComponent('table.foot');\n\n    return (\n      <div className=\"tjs-container\">\n        {\n          beforeTableComponents &&\n            beforeTableComponents.map((Component, index) => <Component key={ index } />)\n        }\n        <table className=\"tjs-table\">\n          { Head && <Head rows={ rows } cols={ cols } /> }\n          { Body && <Body rows={ rows } cols={ cols } /> }\n          { Foot && <Foot rows={ rows } cols={ cols } /> }\n        </table>\n        {\n          afterTableComponents &&\n            afterTableComponents.map((Component, index) => <Component key={ index } />)\n        }\n      </div>\n    );\n  }\n}"],"file":"TableComponent.js"}